
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Exercise &#8212; SECAI LLM Training</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=796348d33e8b1d947c94" rel="stylesheet">
<link href="../_static/styles/bootstrap.css?digest=796348d33e8b1d947c94" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=796348d33e8b1d947c94" rel="stylesheet">

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=796348d33e8b1d947c94" rel="stylesheet">
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2">
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2">
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=4ec06e9971c5264fbd345897d5258098f11cc577" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=796348d33e8b1d947c94">
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=796348d33e8b1d947c94">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=8bf782fb4ee92b3d3646425e50f299c4e1fd152d"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = '33_chat_with_docs/Untitled2';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="docsearch:language" content="en">
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>

  
  <input type="checkbox" class="sidebar-toggle" name="__primary" id="__primary">
  <label class="overlay overlay-primary" for="__primary"></label>

  
  <input type="checkbox" class="sidebar-toggle" name="__secondary" id="__secondary">
  <label class="overlay overlay-secondary" for="__secondary"></label>

  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
      
<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
    </div>
  </div>

  
  <nav class="bd-header navbar navbar-expand-lg bd-navbar" id="navbar-main"><div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
      <span class="fa-solid fa-bars"></span>
  </label>
  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="../intro.html">

  
  
  
  
  
  
  

  
    <img src="../_static/logo.png" class="logo__image only-light" alt="Logo image">
    <img src="../_static/logo.png" class="logo__image only-dark" alt="Logo image">
  
  
</a>
    
  </div>

  
  <div class="col-lg-9 navbar-header-items">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">
        Site Navigation
    </p>
    <ul id="navbar-main-elements" class="navbar-nav">
        
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../00_setup/readme.html">
                        Setting up your computer
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../15_endpoint_apis/01_scadsai_llm_endpoint.html">
                        ScaDS.AI LLM endpoint
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../15_endpoint_apis/02_ollama_endpoint.html">
                        Ollama
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../15_endpoint_apis/06_kisski_endpoint.html">
                        KISSKI / GWDG endpoint
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../15_endpoint_apis/03_blablador_endpoint.html">
                        Blablador endpoint
                      </a>
                    </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../20_chatbots/readme.html">
                        Chatbots
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="readme.html">
                        Retreivela Augmented Generation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="chat-with-docs.html">
                        Chat with your PDFs!
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="hpc-compendium-prepare-data.html">
                        Chat with documentation about HPC systems
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="long-context-prompting.html">
                        Long context prompting
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="chat-with-hpc-compendium.html">
                        Ask about the HPC compendium
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="llm-based-rag.html">
                        LLM-based Retrieval Augmented Generation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../47_vision/22_vision_qwen.html">
                        Qwen2-VL
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../47_vision/20_vision_ollama.html">
                        LLAVA
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../50_function_calling/12_function_calling_scadsai_llm.html">
                        Function calling using ScaDS.AI’s LLM service
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../66_arxiv_agent/arxiv_powerpoint_karaoke.html">
                        PowerPoint Karaoke about Arxiv papers
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../66_arxiv_agent/multiagent_write_review.html">
                        A multi-agent system writing a manuscript
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../66_arxiv_agent/simplifying_agentic_workflows.html">
                        Simplifing agentic workflows
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../imprint.html">
                        Imprint
                      </a>
                    </li>
                
                </div>
            </div>
            
    </ul>
</nav>
      </div>
      
    </div>

    <div id="navbar-end">
      
        <div class="navbar-end-item navbar-persistent--container">
          
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
        </div>
      
      
      <div class="navbar-end-item">
        <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
</button>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
      </ul>
      </div>
      
    </div>
  </div>


  
  
    <div class="navbar-persistent--mobile">
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
    </div>
  

  

</div>
  </nav>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        
  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">
        Site Navigation
    </p>
    <ul id="navbar-main-elements" class="navbar-nav">
        
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../00_setup/readme.html">
                        Setting up your computer
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../15_endpoint_apis/01_scadsai_llm_endpoint.html">
                        ScaDS.AI LLM endpoint
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../15_endpoint_apis/02_ollama_endpoint.html">
                        Ollama
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../15_endpoint_apis/06_kisski_endpoint.html">
                        KISSKI / GWDG endpoint
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../15_endpoint_apis/03_blablador_endpoint.html">
                        Blablador endpoint
                      </a>
                    </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../20_chatbots/readme.html">
                        Chatbots
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="readme.html">
                        Retreivela Augmented Generation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="chat-with-docs.html">
                        Chat with your PDFs!
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="hpc-compendium-prepare-data.html">
                        Chat with documentation about HPC systems
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="long-context-prompting.html">
                        Long context prompting
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="chat-with-hpc-compendium.html">
                        Ask about the HPC compendium
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="llm-based-rag.html">
                        LLM-based Retrieval Augmented Generation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../47_vision/22_vision_qwen.html">
                        Qwen2-VL
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../47_vision/20_vision_ollama.html">
                        LLAVA
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../50_function_calling/12_function_calling_scadsai_llm.html">
                        Function calling using ScaDS.AI’s LLM service
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../66_arxiv_agent/arxiv_powerpoint_karaoke.html">
                        PowerPoint Karaoke about Arxiv papers
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../66_arxiv_agent/multiagent_write_review.html">
                        A multi-agent system writing a manuscript
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../66_arxiv_agent/simplifying_agentic_workflows.html">
                        Simplifing agentic workflows
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../imprint.html">
                        Imprint
                      </a>
                    </li>
                
                </div>
            </div>
            
    </ul>
</nav>
      </div>
      
      </div>
    

    
    
    <div class="sidebar-header-items__end">
      
      <div class="navbar-end-item">
        <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
</button>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
      </ul>
      </div>
      
    </div>
    
  </div>

  
  <div class="sidebar-start-items sidebar-primary__section">
    <div class="sidebar-start-items__item">
  


<a class="navbar-brand logo" href="../intro.html">

  
  
  
  
  
  
  

  
    <img src="../_static/logo.png" class="logo__image only-light" alt="Logo image">
    <img src="../_static/logo.png" class="logo__image only-dark" alt="Logo image">
  
  
</a>
    </div>
    <div class="sidebar-start-items__item">
<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
    </div>
    <div class="sidebar-start-items__item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    SECAI LLM Training
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Setup</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../00_setup/readme.html">Setting up your computer</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">LLM basics</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../15_endpoint_apis/01_scadsai_llm_endpoint.html">ScaDS.AI LLM endpoint</a></li>
<li class="toctree-l1"><a class="reference internal" href="../15_endpoint_apis/02_ollama_endpoint.html">Ollama</a></li>
<li class="toctree-l1"><a class="reference internal" href="../15_endpoint_apis/06_kisski_endpoint.html">KISSKI / GWDG endpoint</a></li>
<li class="toctree-l1"><a class="reference internal" href="../15_endpoint_apis/03_blablador_endpoint.html">Blablador endpoint</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../20_chatbots/readme.html">Chatbots</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../20_chatbots/gui.html">A Chatbot GUI</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Retrieval Augmented Generation (RAG)</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="readme.html">Retreivela Augmented Generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="chat-with-docs.html">Chat with your PDFs!</a></li>
<li class="toctree-l1"><a class="reference internal" href="hpc-compendium-prepare-data.html">Chat with documentation about HPC systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="long-context-prompting.html">Long context prompting</a></li>
<li class="toctree-l1"><a class="reference internal" href="chat-with-hpc-compendium.html">Ask about the HPC compendium</a></li>
<li class="toctree-l1"><a class="reference internal" href="llm-based-rag.html">LLM-based Retrieval Augmented Generation</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Multi-modal LLMs</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../47_vision/22_vision_qwen.html">Qwen2-VL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../47_vision/20_vision_ollama.html">LLAVA</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Agents</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../50_function_calling/12_function_calling_scadsai_llm.html">Function calling using ScaDS.AI’s LLM service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../66_arxiv_agent/arxiv_powerpoint_karaoke.html">PowerPoint Karaoke about Arxiv papers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../66_arxiv_agent/multiagent_write_review.html">A multi-agent system writing a manuscript</a></li>
<li class="toctree-l1"><a class="reference internal" href="../66_arxiv_agent/simplifying_agentic_workflows.html">Simplifing agentic workflows</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Links</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../imprint.html">Imprint</a></li>

</ul>

    </div>
</nav>
    </div>
  </div>
  

  
  <div class="sidebar-end-items sidebar-primary__section">
    <div class="sidebar-end-items__item">
    </div>
  </div>

  
  <div id="rtd-footer-container"></div>

      </div>
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

        <div class="bd-content">
          <div class="bd-article-container">
            
            <div class="bd-header-article">
                



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        <label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" data-toggle="tooltip" data-placement="right" title="Toggle primary sidebar">
            <span class="fa-solid fa-bars"></span>
        </label>
    </div>
    <div class="header-article__right">


<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
  </ul>
</div>

<button onclick="toggleFullScreen()"
  class="btn btn-sm"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<div class="dropdown dropdown-repository-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      <li><a href="https://github.com/ScaDS/secai_llm_training" target="_blank"
   class="btn btn-sm dropdown-item"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">repository</span>
</a>
</a>
      
      <li><a href="https://github.com/ScaDS/secai_llm_training/issues/new?title=Issue%20on%20page%20%2F33_chat_with_docs/Untitled2.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm dropdown-item"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">open issue</span>
</a>
</a>
      
  </ul>
</div>



<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      <li><a href="../_sources/33_chat_with_docs/Untitled2.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</a>
      
      <li>
<button onclick="printPdf(this)"
  class="btn btn-sm dropdown-item"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</a>
      
  </ul>
</div>

    </div>
</div>
            </div>
            
            

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Exercise</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
        </div>
    </div>
</div>

            <article class="bd-article" role="main">
              
  <div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">llama_index.core.agent</span><span class="w"> </span><span class="kn">import</span> <span class="n">ReActAgent</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">llama_index.llms.ollama</span><span class="w"> </span><span class="kn">import</span> <span class="n">Ollama</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">llama_index.llms.openai_like</span><span class="w"> </span><span class="kn">import</span> <span class="n">OpenAILike</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">llama_index.core.tools</span><span class="w"> </span><span class="kn">import</span> <span class="n">FunctionTool</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tools</span> <span class="o">=</span> <span class="p">[]</span>

<span class="nd">@tools</span><span class="o">.</span><span class="n">append</span>
<span class="k">def</span><span class="w"> </span><span class="nf">read_documentation</span><span class="p">(</span><span class="n">docs_file_path</span><span class="p">:</span><span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Reading &quot;</span><span class="p">,</span> <span class="n">docs_file_path</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;hpc-compendium/&quot;</span> <span class="o">+</span> <span class="n">docs_file_path</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Read the content of summaries.md </span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;summaries.md&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">summaries</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="n">initial_message</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">Before answering a question, you read related documentation. </span>
<span class="s2">Exclusively these documentation files are available:</span>

<span class="si">{</span><span class="n">summaries</span><span class="si">}</span>

<span class="s2">Finally, after reading related documentation, when answering the question, cite the markdown files you were reading in markdown format.</span>
<span class="s2">&quot;&quot;&quot;</span>
<span class="n">initial_message</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;\nYou are a high performance computing expert. Before answering a question, you read related documentation. \nExclusively these documentation files are available:\n\n* accessibility.md:\nThis document is an accessibility statement for the Technische Universität Dresden\&#39;s websites, outlining the university\&#39;s efforts to make its online presence accessible in accordance with German accessibility laws and regulations, and providing contact information for reporting accessibility issues.\n\n* data_protection_declaration.md:\nThis document outlines a data protection policy, explaining how personal data such as IP addresses are processed, stored, and potentially shared, while also informing users of their rights to request information and contact relevant authorities.\n\n* index.md:\nThis markdown document provides an overview of the High-Performance Computing (HPC) systems and services offered by the Center for Information Services and High-Performance Computing (ZIH) at TU Dresden, including documentation, contribution guidelines, news, training courses, and support options.\n\n* legal_notice.md:\nThis markdown document provides a legal notice for a website or repository affiliated with the Technical University of Dresden, outlining the responsible parties, contact information, and licensing terms for documentation and software components.\n\n* access/desktop_cloud_visualization.md:\nNICE DCV is a remote access solution that enables users to run OpenGL 3D applications on ZIH systems using the server\&#39;s GPUs, with alternative solutions and detailed setup instructions provided for access through JupyterHub and troubleshooting GPU support.\n\n* access/graphical_applications_with_webvnc.md:\nThis document describes how to run graphical applications on ZIH systems using WebVNC, a solution based on a Singularity container with a VNC setup, which can be accessed via JupyterHub or a terminal, allowing users to run graphical applications remotely through their web browser.\n\n* access/jupyterhub.md:\nThis documentation provides an overview of the JupyterHub service offered by ZIH, including how to start and stop sessions, customize the environment, and troubleshoot common errors, as well as advanced tips for using the service with various programming languages and tools.\n\n* access/jupyterhub_custom_environments.md:\nThis document provides a step-by-step guide on creating and using custom environments, specifically Python kernels, for JupyterHub on ZIH systems, allowing users to install preferred packages and use them in their notebooks.\n\n* access/jupyterhub_for_teaching.md:\nThis document provides guidance on using JupyterHub for teaching, including features such as cloning repositories, passing spawn options through URL parameters, creating shared Python environments, and setting up custom Jupyter kernels for consistent and efficient teaching experiences.\n\n* access/jupyterhub_teaching_example.md:\nThis markdown document provides a step-by-step guide for setting up a Jupyter Lab course using JupyterHub, including creating custom Python environments, cloning repositories, and activating environments, to help educators teach with Jupyter Notebooks.\n\n* access/jupyterlab.md:\nThis document provides step-by-step instructions on how to access JupyterLab on various high-performance computing (HPC) clusters at TU Dresden, including options for accessing without JupyterHub using port forwarding or X11 forwarding on different clusters such as Alpha Centauri, Barnard, Capella, Romeo, and Visualization.\n\n* access/jupyterlab_user.md:\nThis document provides step-by-step instructions on how to install a custom JupyterLab environment on a specific system, noting that technical support will not be provided for custom installations.\n\n* access/key_fingerprints.md:\nThis document provides a list of key fingerprints for various login nodes and dataport nodes of high-performance computing (HPC) systems at TU Dresden, to help users verify the authenticity of the servers they are connecting to.\n\n* access/overview.md:\nThis document describes the various methods for accessing ZIH systems, including SSH, Desktop Cloud Visualization, WebVNC, and JupyterHub, and outlines the prerequisites and security measures required for access, such as a valid HPC project, login, and potentially a Virtual Private Network (VPN) connection.\n\n* access/security_restrictions.md:\nFollowing a security incident, the German HPC sites in Gauß Alliance, including ZIH systems, have implemented new security restrictions, including mandatory password changes, updated SSH key requirements, and limited SSH access, to prevent malware infection and spreading.\n\n* access/ssh_login.md:\nThis markdown document provides a step-by-step guide on how to connect to the ZIH systems via terminal on Linux, Mac, and Windows operating systems using SSH, including generating SSH keys, configuring default parameters, and enabling X11-forwarding for graphical applications.\n\n* access/ssh_mobaxterm.md:\nThis document provides a step-by-step guide on how to connect to a remote server using MobaXterm, a terminal emulator for Windows, including downloading and installing the software, configuring local settings, and starting a new SSH session.\n\n* access/ssh_putty.md:\nThis document provides a step-by-step guide on how to connect to a remote server using PuTTY, a free and open-source terminal emulator, on a Windows system, including downloading and installing PuTTY, starting a new SSH session, and configuring connection details.\n\n* application/acknowledgement.md:\nResearchers using the high-performance computing (HPC) resources at the NHR center at TU Dresden are kindly asked to acknowledge the usage of these resources in the acknowledgement section of their publications, with examples of standard acknowledgement texts provided.\n\n* application/overview.md:\nThis document outlines the application process for high-performance computing (HPC) resources at the ZIH, including eligibility requirements, project types, and the application workflow, with additional information on terms of use, user management, and acknowledgment in publications.\n\n* application/project_management.md:\nThis document provides an overview of user management responsibilities and procedures for project leaders and administrators of high-performance computing (HPC) projects at the Technical University of Dresden, including adding and removing users, monitoring resources, and accessing project management tools.\n\n* application/terms_of_use.md:\nThe Terms of Use document outlines the rules and guidelines for using the High-Performance Computing (HPC) resources at the Center for Information Services and High-Performance Computing (ZIH) at TU Dresden, including data storage, project management, and user responsibilities, with the German version being the only binding version.\n\n* archive/beegfs.md:\nThis markdown document provides a guide to working with the BeeGFS filesystem, including commands to check capacity and filesystem health, manage striping, and view network information for the filesystem servers.\n\n* archive/bioinformatics.md:\nThis markdown document provides an outdated overview of four bioinformatics software tools - Infernal, OpenProspect, Phylip, and PhyML - including their functions, documentation links, and usage examples.\n\n* archive/cxfs_end_of_support.md:\nThe CXFS filesystem, currently mounted at `/fastfs/` and `/hpc_fastfs/`, will be separated from its tape library due to ending support from SGI, and users are advised to migrate their important data to the Intermediate Archive or Long-term Archive by the end of January 2013.\n\n* archive/filesystems.md:\nThis markdown document notifies users that certain filesystems, including `warm_archive`, `ssd`, and `scratch`, have been decommissioned and should no longer be used, while also providing information on node features, filesystem features, and access methods for the now-deprecated warm archive storage system.\n\n* archive/install_jupyter.md:\nThis markdown document describes how to set up and run a remote Jupyter server with GPU support on ZIH systems, including preparation, configuration, and connection steps, as an alternative to using JupyterHub.\n\n* archive/knl_nodes.md:\nThis page provides information about the Intel Xeon Phi (Knights Landing) nodes, which are currently out of service, including their technical specifications, benchmark results, and optimal usage guidelines, although it notes that the information is deprecated.\n\n* archive/load_leveler.md:\nThis markdown document provides a comprehensive guide to using LoadLeveler, a workload management system developed by IBM, to manage and submit jobs on a high-performance computing cluster, including how to create job files, submit jobs, monitor job status, and cancel jobs.\n\n* archive/migrate_to_atlas.md:\nThis document, which is now outdated, provides guidance on migrating from the Deimos system to the Atlas system, including information on hardware differences, batch system changes, and software considerations for optimal performance on Atlas.\n\n* archive/migration_to_barnard.md:\nThis document provides a guide for users to migrate their data and workflows from the old Taurus system to the new Barnard CPU cluster at TU Dresden, including instructions for logging in, managing data, transferring files, and updating job scripts to work with the new Slurm system and software environment.\n\n* archive/no_ib_jobs.md:\nThis document provides guidance on running jobs without InfiniBand access on a system, including setup requirements, restrictions, and a sample job script, but notes that this setup is only for temporary use during downtime of the IB fabric and not for normal system operation.\n\n* archive/overview.md:\nThis document is an archive of outdated documentation that is no longer updated, serving as a reference for legacy information.\n\n* archive/phase2_migration.md:\nThis document provides a step-by-step guide on how to migrate data from old scratch storage systems (Atlas, Venus, Taurus I) to a new scratch storage system (Taurus II) at a university, requiring an intermediate transfer via Taurus I.\n\n* archive/platform_lsf.md:\nThis markdown document provides a detailed guide to using the Platform LSF (Load Sharing Facility) batch system, which is now outdated and has been replaced by Slurm, for submitting and managing jobs on high-performance computing systems at the ZIH (Center for Information Services and High-Performance Computing).\n\n* archive/scs5_software.md:\nThis outdated document provides hints for migrating to SCS5, Bull\&#39;s new cluster software, and outlines major changes, including new operating systems, software modules, and toolchains, to help users adapt to the updated environment.\n\n* archive/slurm_profiling.md:\nThis document, although currently outdated due to an upgrade issue with Slurm 20.11.9, describes how to use job profiling in Slurm to gather detailed data about job performance, including task data, energy consumption, and I/O behavior, and provides examples of how to create, merge, and view profiling data.\n\n* archive/systems_switched_off.md:\nThis document provides an overview of the historical development of high-performance computing (HPC) systems at the ZIH, listing various outdated systems that have been installed and operated over the years, along with their performance specifications and key milestones.\n\n* archive/system_altix.md:\nThis markdown document provides information about the SGI Altix, a former high-performance computing system at ZIH, including its architecture, compute modules, CPU specifications, and usage guidelines for compiling and running parallel applications using the batch system.\n\n* archive/system_atlas.md:\nThis document describes the MEGWARE PC-Farm Atlas, a heterogeneous cluster system based on AMD Opteron 6274 chips, which is now outdated and deprecated, providing information on its hardware, usage, batch system, and queues for users who need to migrate from this system.\n\n* archive/system_deimos.md:\nThe Deimos PC farm is a former, outdated heterogeneous cluster based on dual-core AMD Opteron CPUs, with a total of 2584 cores, 13.4 TFLOPS peak performance, and various networking and storage capabilities.\n\n* archive/system_phobos.md:\nThe Phobos cluster, a former system shut down in 2010, was a 64-node Linux-based cluster utilizing AMD Opteron 248 CPUs, with a total peak performance of 563.2 GFLOPS, and was connected by InfiniBand networks and a GB/Ethernetwork.\n\n* archive/system_taurus.md:\nThis document describes the outdated System Taurus, a high-performance computing system that will be decommissioned by the end of 2023, and provides detailed information about its various components, including islands with Intel Haswell CPUs, NVIDIA K80 GPUs, and SMP nodes with up to 2 TB RAM.\n\n* archive/system_titan.md:\nThis document provides detailed specifications and information about the outdated Windows HPC Server 2008 Cluster Titan, a homogeneous cluster of Dell Blade Servers with quad-core Intel Xeon CPUs, which is no longer in use.\n\n* archive/system_triton.md:\nThis document provides information about the IBM-iDataPlex Cluster Trition, a now-deprecated system based on quadcore Intel Xeon CPUs, detailing its hardware specifications, software, and configuration, although it is noted that the page is outdated and the system is no longer in use.\n\n* archive/system_venus.md:\nThis document provides information about the SGI UV2000, also known as Venus, a former high-performance computing system with 512 cores and 8TB of memory, including its architecture, usage guidelines, and batch system submission procedures.\n\n* archive/unicore_rest_api.md:\nThis page, which is now outdated, describes how to access UNICORE via its REST API, providing links to documentation and examples, although UNICORE support has been abandoned.\n\n* archive/vampirtrace.md:\nVampirTrace is a discontinued performance monitoring tool that produces tracefiles during a program run, which can be analyzed and visualized by the tool Vampir, with its official successor being the Scalable Performance Measurement Infrastructure Score-P.\n\n* archive/windows_batch.md:\nThis document provides an outdated guide to using the batch system on the Windows HPC Server, including job submission, job types, working directories, job queues, and job monitoring, although it is noted that the Windows HPC Server is a former system and the page is deprecated.\n\n* contrib/content_rules.md:\nThis document outlines the content rules and guidelines for creating and contributing to a documentation project, covering topics such as writing style, markdown syntax, code blocks, and search customization to ensure consistency and quality across the documentation.\n\n* contrib/contribute_browser.md:\nThis document outlines the step-by-step process for contributing to the HPC documentation of TU Dresden/ZIH via GitLab\&#39;s web interface, including preparation, creating a branch, editing or adding articles, submitting for publication, and undergoing a review process.\n\n* contrib/contribute_container.md:\nThis document provides a step-by-step guide on how to contribute to the HPC documentation of TU Dresden/ZIH via a local clone of the Git repository, including setup, working with the local clone, merging changes, and using tools to ensure quality.\n\n* contrib/howto_contribute.md:\nThis markdown document provides a guide on how to contribute to a technical documentation project, including information on the technical setup, Git workflow, content rules, and various ways to contribute, such as via issues, web IDE, or local clone.\n\n* data_lifecycle/data_sharing.md:\nThis document provides guidance on how to share data with other users or projects, including commands to grant access to specific files or directories, manage permissions, and use Access Control Lists (ACLs) to control access to workspaces.\n\n* data_lifecycle/file_systems.md:\nThis document provides an overview of the different filesystems available on ZIH systems, including their purposes and recommended uses, as well as tips for efficient usage and troubleshooting common filesystem issues.\n\n* data_lifecycle/intermediate_archive.md:\nThe Intermediate Archive is a hierarchical filesystem provided by ZIH for storing research data for up to 3 years, offering a buffer zone between disk-based filesystems and long-term archival solutions, with limitations on file size, bandwidth, and access methods.\n\n* data_lifecycle/longterm_preservation.md:\nThis markdown document provides guidance on the long-term preservation of research data, including why data should be preserved, which data to preserve, the importance of adding metadata, and options for archiving data safely at the ZIH (Center for Information Services and High-Performance Computing) of TU Dresden.\n\n* data_lifecycle/lustre.md:\nThis document provides guidance on good practices for using Lustre filesystems, including minimizing metadata operations, using Lustre-specific commands, and monitoring and configuring the Lustre environment with the `lfs` utility.\n\n* data_lifecycle/overview.md:\nThis document provides guidelines for efficient data life cycle management in High-Performance Computing (HPC) projects, covering topics such as data storage, backup, organization, metadata, data hygiene, and access rights to ensure effective collaboration and data preservation.\n\n* data_lifecycle/permanent.md:\nThis document provides guidelines and information on the use of permanent filesystems at a high-performance computing (HPC) facility, including usage policies, quota management, and backup procedures for the global `/home` and `/projects` filesystems.\n\n* data_lifecycle/working.md:\nThis document provides an overview of the various filesystems available on ZIH systems, including their capacities, performances, and uses, as well as recommendations for efficient usage and troubleshooting tips for common filesystem issues.\n\n* data_lifecycle/workspaces.md:\nHere is a one-sentence summary of the markdown document in English:\n\nThe document describes the concept of &quot;workspaces&quot; at ZIH, a mechanism for managing HPC data with limited lifetimes and volumes, and provides guidance on how to allocate, manage, and extend workspaces, as well as how to use them for per-job storage, data campaigns, and mid-term storage.\n\n* data_transfer/datamover.md:\nThe Datamover system provides special data transfer machines and commands, such as `dtcp`, `dtmv`, and `dtrsync`, to efficiently transfer data between ZIH filesystems, including between ZIH systems and external group drives, with features like job management and customizable options.\n\n* data_transfer/dataport_nodes.md:\nTo transfer large data to or from ZIH systems, users should utilize the dataport nodes, which offer a better uplink and higher bandwidth, and can be accessed using tools like `scp`, `rsync`, or `sftp` from Linux or Windows systems.\n\n* data_transfer/object_storage.md:\nThis document provides instructions on how to transfer data between ZIH systems and object storage (S3) using the `rclone` module, including initial configuration, copying data, and accessing object storage.\n\n* data_transfer/overview.md:\nThis document provides an overview of data transfer methods at ZIH systems, recommending the use of dataport nodes for external transfers and the Datamover for internal transfers, with links to further documentation on each tool.\n\n* jobs_and_resources/alpha_centauri.md:\nThe Alpha Centauri GPU cluster is a multi-GPU system installed for AI-related computations, featuring 48 physical cores, 96 logical cores, 8 NVIDIA A100-SXM4 GPUs, and 1 TB RAM per node, with usage guidelines, module systems, and support for Python virtual environments, JupyterHub, and Singularity containers.\n\n* jobs_and_resources/arm_hpc_devkit.md:\nThe NVIDIA Arm HPC Developer Kit, provided as part of the ZIH systems, is a 2U server equipped with an Arm processor, NVIDIA A100 GPUs, and other hardware, allowing users to experiment with Arm-based systems and compile applications for the Arm v8.2+ architecture.\n\n* jobs_and_resources/binding_and_distribution_of_tasks.md:\nThis document provides an overview of the binding and distribution strategies in Slurm for placing tasks and threads on cores, sockets, and nodes, including examples for OpenMP, MPI, hybrid, and GPU jobs, and explains how to use options like `--cpu_bind` and `--distribution` to optimize application execution time.\n\n* jobs_and_resources/capella.md:\nThe Lenovo multi-GPU cluster &quot;Capella&quot; is a high-performance computing system installed for AI-related computations and traditional HPC simulations, integrated into the ZIH HPC infrastructure and ranked #51 in the TOP500 list, with a unique hardware specification and software stack tailored for efficient computing.\n\n* jobs_and_resources/checkpoint_restart.md:\nThis document discusses the concept of checkpointing in high-performance computing (HPC) systems, which saves the state of a running process to a file, allowing it to be restarted from where it left off in case of a failure or interruption, and provides guidance on how to use checkpointing tools like DMTCP to implement it in various scenarios.\n\n* jobs_and_resources/hardware_overview.md:\nThe ZIH systems offer a range of High Performance Computing (HPC) resources, including six homogeneous clusters with over 100,000 CPU cores and a peak performance of more than 1.5 quadrillion floating point operations per second, tailored to support data-intensive computing, Big Data analytics, and artificial intelligence methods.\n\n* jobs_and_resources/julia.md:\nThe SMP Cluster Julia is a large shared memory node, specifically the HPE Superdome Flex, suitable for data-intensive applications, featuring 370 TB of NVMe storage and offering flexible quota management and optimized usage guidelines for OpenMP and MPI applications.\n\n* jobs_and_resources/mpi_issues.md:\nThis document outlines known issues with Message Passing Interface (MPI) implementations, specifically with Open MPI, including performance losses, incorrect resource distribution, and segmentation faults, and provides workarounds and solutions for these problems.\n\n* jobs_and_resources/nvme_storage.md:\nThe document describes a high-performance NVMe storage system consisting of 90 nodes, each equipped with Intel NVMe SSDs, InfiniBand links, Intel Xeon processors, and RAM, capable of delivering high-speed data transfer rates.\n\n* jobs_and_resources/overview.md:\nThis document provides an introduction to the High-Performance Computing (HPC) resources and jobs at the ZIH, including information on selecting suitable hardware, submitting jobs, and managing resources, as well as guidelines for estimating runtime, memory, and software requirements.\n\n* jobs_and_resources/power9.md:\nThe GPU Cluster Power9 is a homogeneous, standalone cluster with its own Slurm batch system and login nodes, featuring IBM Power9 architecture and NVIDIA Tesla V100 GPUs, designed for AI, analytics, and data-intensive workloads, and available for use with certain usage guidelines and supported software tools.\n\n* jobs_and_resources/romeo.md:\nThe CPU Cluster Romeo is a general-purpose cluster based on AMD Rome CPUs, re-engineered as a standalone cluster with its own Slurm batch system and login nodes, offering 128 physical cores and 512 GB of main memory per node, with specific usage guidelines and compatibility considerations for certain software and compilers.\n\n* jobs_and_resources/slurm.md:\nThe ZIH utilizes the Slurm batch system for resource management and job scheduling, allowing users to specify needed resources such as cores, memory, and time, and schedule jobs for execution on compute nodes.\n\n* jobs_and_resources/slurm_examples.md:\nThis markdown document provides examples and guidelines for submitting various types of jobs, including parallel jobs, exclusive jobs, array jobs, and chain jobs, to a Slurm job scheduler, along with explanations of the relevant Slurm options and parameters.\n\n* jobs_and_resources/slurm_examples_with_gpu.md:\nThis document provides guidance on requesting and utilizing GPU resources via the Slurm batch system, including examples of job scripts for requesting GPUs, running multiple GPU applications simultaneously, and troubleshooting common issues.\n\n* jobs_and_resources/slurm_generator.md:\nThis markdown document describes a Slurm job file generator, a tool that helps users create job files for submitting high-performance computing (HPC) jobs on a Slurm-managed cluster.\n\n* jobs_and_resources/slurm_limits.md:\nThe ZIH systems have resource limits, including runtime and memory limits, that must be respected when submitting jobs to prevent automatic killing or cancellation, and users are advised to estimate their needed time limits and split long jobs into chains to achieve higher throughput and shorter waiting times.\n\n* quickstart/getting_started.md:\nThis document provides a step-by-step guide for new users to get started with submitting High Performance Computing (HPC) jobs on the ZIH HPC systems, covering topics such as applying for login access, transferring code and data, accessing software, and running parallel HPC jobs.\n\n* software/big_data_frameworks.md:\nThis document provides guidance on using Big Data analytics frameworks, including Apache Spark, Apache Flink, and Apache Hadoop, on a high-performance computing system, covering topics such as interactive jobs, batch jobs, and Jupyter notebooks.\n\n* software/building_software.md:\nTo build software on the system, it\&#39;s recommended to use a job and a separate build directory in the `/data/horse` filesystem, rather than compiling directly in the `/projects` filesystem, which is mounted read-only on compute nodes.\n\n* software/cfd.md:\nThis document provides an overview of the Computational Fluid Dynamics (CFD) applications available on a system, including OpenFOAM, Ansys CFX, Ansys Fluent, ICEM CFD, and STAR-CCM+, along with examples of job scripts and usage instructions for each application.\n\n* software/cicd.md:\nThe ZIH systems provide a GitLab Runner that enables users to run GitLab pipelines on their high-performance computing (HPC) infrastructure, allowing for continuous building, testing, and benchmarking of HPC software in its target environment.\n\n* software/compilers.md:\nThis document provides an overview of the compilers and flags available on the ZIH system, including GNU Compiler Collection, Clang Compiler, Intel Compiler, and PGI Compiler, and offers guidance on how to optimize compiler flags for maximum performance on different architectures.\n\n* software/containers.md:\nThis markdown document describes the use of Singularity, a containerization solution, on ZIH systems, which allows users to package their software code and dependencies into a single container that can run uniformly and consistently on any infrastructure, providing full control over their environment without requiring root privileges or HPC support installation.\n\n* software/custom_easy_build_environment.md:\nThis document provides a step-by-step guide on how to install software using EasyBuild on the ZIH systems, allowing users to create custom modules for software not already installed on the cluster.\n\n* software/data_analytics.md:\nThis document provides an overview of the data analytics tools and resources available on ZIH systems, including various software and frameworks, and offers guidance on how to access, install, and use them, as well as manage data transfer and storage.\n\n* software/data_analytics_with_python.md:\nThis markdown document provides a comprehensive guide to using Python for data analytics on the ZIH system, covering topics such as working with Python consoles and virtual environments, using Jupyter notebooks, parallel computing with libraries like Pandas and Dask, and utilizing MPI for Python (mpi4py) for message passing and parallelization.\n\n* software/data_analytics_with_r.md:\nThis document provides an overview of using R for data analytics on a cluster, including setting up an R environment, running R scripts, and using parallel computing methods such as shared-memory and distributed-memory parallelism.\n\n* software/data_analytics_with_rstudio.md:\nThis document provides an overview of using RStudio, an integrated development environment for R, which can be run directly in the browser through JupyterHub, offering a convenient option for data analytics.\n\n* software/debuggers.md:\nThis markdown document provides a comprehensive guide to debugging applications, including an overview of available debuggers, general advice, and specific instructions for using tools like GDB, Arm DDT, and Valgrind to detect and fix errors in serial and parallel programs.\n\n* software/distributed_training.md:\nThis markdown document discusses distributed training methods for deep learning models, including data parallelism and model parallelism, and provides examples and guidance on implementing these methods using TensorFlow, PyTorch, and Horovod on high-performance computing systems.\n\n* software/energy_measurement.md:\nThis document describes the various methods and tools available for measuring energy consumption on the Intel Haswell nodes of the ZIH system, including interfaces such as Dataheap, HDEEM, and Slurm, as well as command line tools and APIs for accessing and analyzing energy consumption data.\n\n* software/fem_software.md:\nThis markdown document provides an overview of finite element method (FEM) software available on ZIH systems, including Abaqus, Ansys, COMSOL Multiphysics, and LS-DYNA, with instructions on how to use them interactively and in batch mode, as well as tips for optimizing performance and troubleshooting common issues.\n\n* software/gpu_programming.md:\nThis markdown document provides a comprehensive guide to GPU programming, including available GPUs, using GPUs with Slurm, directive-based GPU programming with OpenACC and OpenMP, native GPU programming with CUDA, and performance analysis tools such as NVIDIA nvprof, Visual Profiler, Nsight Systems, and Nsight Compute.\n\n* software/hyperparameter_optimization.md:\nOmniOpt is a tool for hyperparameter optimization that can be used with various applications, including classical simulations and machine learning algorithms, and it provides a robust and automated way to optimize hyperparameters with minimal overhead.\n\n* software/licenses.md:\nThis document explains how users can install and use their own software licenses on ZIH systems, including configuring license servers, environment variables, and firewall settings to enable license communications.\n\n* software/lo2s.md:\nThe `lo2s` tool is a lightweight, node-level performance monitoring system that creates parallel OTF2 traces, providing insights into both application and system performance, and offers two modes: process monitoring and system monitoring, with various configuration options and compatibility with Score-P metric plugins.\n\n* software/machine_learning.md:\nThis document provides an introduction to running machine learning applications on ZIH systems, covering topics such as recommended hardware, loading modules, using Python and R, working with Jupyter Notebooks, utilizing containers, and accessing additional libraries and datasets for machine learning tasks.\n\n* software/mathematics.md:\nThis markdown document provides a comprehensive guide to using mathematical applications, specifically Mathematica and MATLAB, on a high-performance computing (HPC) system, including instructions on installation, configuration, and usage, as well as tips for parallel computing, debugging, and troubleshooting.\n\n* software/math_libraries.md:\nThis document provides an overview of various high-quality mathematics libraries available for use, including BLAS, LAPACK, ScaLAPACK, and others, which offer efficient and optimized functions for linear algebra, FFT, and other numerical computations on different hardware architectures.\n\n* software/modules.md:\nThe document describes the usage of environment modules on High-Performance Computing (HPC) systems, which manage software usage by providing a dynamic modification of a user\&#39;s environment to access compilers, loaders, libraries, and utilities.\n\n* software/mpi_usage_error_detection.md:\nThe document describes how to use the MUST (Memory Usage and Scaling Tool) to check the correctness of MPI (Message Passing Interface) applications, including setup, compilation, and execution with MUST, as well as analysis of result files to identify MPI usage errors.\n\n* software/nanoscale_simulations.md:\nThis markdown document provides an overview of various software packages available for nanoscale simulations, including ABINIT, CP2K, CPMD, GAMESS, Gaussian, GROMACS, LAMMPS, NAMD, ORCA, Siesta, and VASP, along with instructions on how to access and use them.\n\n* software/ngc_containers.md:\nThis document describes how to use NVIDIA GPU-accelerated containers, known as NGC containers, for deep learning and other applications on the ZIH system, including how to run them on single and multiple GPUs, as well as the limitations and potential issues with multi-node usage.\n\n* software/overview.md:\nThis document provides an overview of the environment and software used on ZIH systems, including the user environment, software environment, and various options for working with software, such as modules, Jupyter Notebook, and containers.\n\n* software/papi.md:\nThis document provides an introduction to using the Performance Application Programming Interface (PAPI) to read CPU performance counters, outlining the basics of PAPI\&#39;s high-level and low-level APIs, and offering guidance on usage, including examples and instructions for utilizing PAPI on specific systems.\n\n* software/performance_engineering_overview.md:\nThis markdown document provides an overview of performance engineering, a process aimed at ensuring that computing systems meet the expectations of their users, with a focus on techniques, tools, and methodologies for analyzing and optimizing system performance in high-performance computing (HPC) environments.\n\n* software/perf_tools.md:\nThis document provides an overview of the Linux &quot;perf&quot; command, a performance analysis tool that provides detailed information about system and application performance, including statistics, sampling, and tracing, to help users and administrators identify and optimize performance bottlenecks.\n\n* software/pika.md:\nPIKA is a hardware performance monitoring stack that allows users to visualize and analyze the efficiency of their high-performance computing (HPC) jobs on ZIH systems through a web interface, providing detailed runtime metrics and timeline visualizations to identify inefficient resource usage.\n\n* software/power_ai.md:\nThis document provides an overview of the PowerAI framework for machine learning, including documentation sources, user guides, and specific information on supported software packages and frameworks, such as TensorFlow, PyTorch, and Caffe, for PowerAI version 1.5.4 on the Power9 cluster.\n\n* software/private_modules.md:\nThis document describes how to set up and use private modules to load custom software packages into your environment, handling different versions and avoiding conflicts, for both single users and project groups.\n\n* software/python_virtual_environments.md:\nThis document provides guidance on using Python virtual environments on the ZIH system, covering the creation, activation, and persistence of virtual environments using tools such as `virtualenv` and `conda`, with examples and warnings for best practices and potential issues.\n\n* software/pytorch.md:\nThis document provides an overview of using PyTorch, an open-source machine learning framework, on a cluster, including instructions for loading modules, creating virtual environments, and migrating scripts from CPU to GPU, as well as tips for optimizing performance and troubleshooting common issues.\n\n* software/scorep.md:\nThis document provides an overview of Score-P, a scalable and easy-to-use tool suite for profiling, event tracing, and online analysis of HPC applications, and guides users through its basic usage, including setup, instrumentation, and measurement configuration.\n\n* software/singularity_power9.md:\nThis document provides guidance on building and using Singularity containers on the Power9 architecture at ZIH systems, including a workaround for the lack of root privileges and introducing two helper programs, `buildSingularityImage` and `startInVM`, to simplify the process.\n\n* software/singularity_recipe_hints.md:\nThis markdown document provides a collection of recipes, hints, and examples for creating and using Singularity containers, including basic examples, distributed memory configurations, and hardware acceleration setups, to help users effectively utilize Singularity for their specific use cases.\n\n* software/software_development_overview.md:\nThis markdown document provides an overview of software development on ZIH systems, covering topics such as compiling code, using libraries, debugging, and optimizing performance, along with helpful hints and questions to consider for ensuring reliable and efficient code.\n\n* software/spec.md:\nThis document provides instructions and guidelines for comparing system performance using the SPEChpc 2021 benchmark suite, a tool developed by the Standard Performance Evaluation Corporation (SPEC) to evaluate heterogeneous HPC systems, including installation, configuration, execution, and troubleshooting of common issues.\n\n* software/tensorboard.md:\nThis document provides instructions on how to use TensorBoard, a visualization toolkit for TensorFlow, to inspect model training, either through JupyterHub or by loading the TensorFlow module environment on a compute node, and accessing it via a web interface.\n\n* software/tensorflow.md:\nThis document provides an overview of using Neural Networks with TensorFlow on a cluster, including how to load TensorFlow modules, work with TensorFlow in consoles and JupyterHub, and ensure compatibility between TensorFlow 1 and 2.\n\n* software/utilities.md:\nThis markdown document provides an overview of various utilities available on the ZIH systems, including Tmux, a terminal multiplexer, lstopo, a tool for displaying system topology, and Ratarmount, a tool for direct archive access without extraction, as well as parallel gzip decompression using rapidgzip.\n\n* software/vampir.md:\nThis markdown document provides a comprehensive guide on using Vampir, a graphical analysis framework, to study the course of events in parallel programs, including setup, usage, and advanced features such as VampirServer and port forwarding.\n\n* software/virtual_desktops.md:\nThis document provides instructions on how to use WebVNC or DCV to run GUI applications on high-performance computing (HPC) resources, including launching a virtual desktop, reconnecting to a session, and terminating a remote session.\n\n* software/virtual_machines.md:\nThis markdown document provides instructions for users to build their own Singularity containers on ZIH systems using virtual machines (VMs), including how to create and access a VM, automate the process, and troubleshoot known issues.\n\n* software/visualization.md:\nThis document provides a detailed guide on using ParaView, an open-source data analysis and visualization application, on the ZIH systems at TU Dresden, covering both interactive and batch modes, as well as client-server architecture and GPU rendering.\n\n* software/zsh.md:\nThis document provides an introduction to ZSH, an alternative shell to Bash, highlighting its convenience features, such as auto-completion, syntax highlighting, and typo correction, and offers examples of useful plugins and configurations, including oh-my-zsh, to enhance productivity on Linux systems.\n\n* support/support.md:\nThis document provides information on how to obtain user support for high-performance computing (HPC) systems at TU Dresden, including instructions for creating a support ticket via email and attending open Q&amp;A sessions.\n\n\n\nFinally, after reading related documentation, when answering the question, cite the markdown files you were reading in markdown format.\n&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">llm</span> <span class="o">=</span> <span class="n">OpenAILike</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">&quot;meta-llama/Llama-3.3-70B-Instruct&quot;</span><span class="p">,</span> 
                 <span class="n">request_timeout</span><span class="o">=</span><span class="mf">120.0</span><span class="p">,</span> 
                 <span class="n">api_base</span><span class="o">=</span><span class="s2">&quot;https://llm.scads.ai/v1&quot;</span><span class="p">,</span> 
                 <span class="n">api_key</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;SCADSAI_API_KEY&#39;</span><span class="p">),</span>
                <span class="n">context</span><span class="o">=</span><span class="n">initial_message</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">agent</span> <span class="o">=</span> <span class="n">ReActAgent</span><span class="o">.</span><span class="n">from_tools</span><span class="p">([</span><span class="n">FunctionTool</span><span class="o">.</span><span class="n">from_defaults</span><span class="p">(</span><span class="n">fn</span><span class="o">=</span><span class="n">t</span><span class="p">)</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">tools</span><span class="p">],</span> <span class="n">llm</span><span class="o">=</span><span class="n">llm</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">response</span> <span class="o">=</span> <span class="n">agent</span><span class="o">.</span><span class="n">chat</span><span class="p">(</span><span class="s2">&quot;How can I install custom packages on Jupyter Hub?&quot;</span><span class="p">)</span>
<span class="n">response</span><span class="o">.</span><span class="n">response</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&gt; Running step 33541077-8398-40e5-9a99-7adf91da4f3d. Step input: How can I install custom packages on Jupyter Hub?
<span class=" -Color -Color-Bold -Color-Bold-C200">Thought: The current language of the user is: English. I need to use a tool to help me answer the question.</span>
<span class=" -Color -Color-Bold -Color-Bold-C200">Action: read_documentation</span>
<span class=" -Color -Color-Bold -Color-Bold-C200">Action Input: {&#39;docs_file_path&#39;: &#39;https://jupyterhub.readthedocs.io/en/stable/&#39;}</span>
Reading  https://jupyterhub.readthedocs.io/en/stable/
<span class=" -Color -Color-Bold -Color-Bold-Blue">Observation: Error: [Errno 22] Invalid argument: &#39;hpc-compendium/https://jupyterhub.readthedocs.io/en/stable/&#39;</span>
&gt; Running step 88db76bd-37fd-4c0b-ae82-c83d0c1e58da. Step input: None
</pre></div>
</div>
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">KeyboardInterrupt</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">10</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">response</span> <span class="o">=</span> <span class="n">agent</span><span class="o">.</span><span class="n">chat</span><span class="p">(</span><span class="s2">&quot;How can I install custom packages on Jupyter Hub?&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="n">response</span><span class="o">.</span><span class="n">response</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\site-packages\llama_index\core\instrumentation\dispatcher.py:321,</span> in <span class="ni">Dispatcher.span.&lt;locals&gt;.wrapper</span><span class="nt">(func, instance, args, kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">318</span>             <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to reset active_span_id: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">320</span> <span class="k">try</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">321</span>     <span class="n">result</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">322</span>     <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">Future</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">323</span>         <span class="c1"># If the result is a Future, wrap it</span>
<span class="g g-Whitespace">    </span><span class="mi">324</span>         <span class="n">new_future</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">ensure_future</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\site-packages\llama_index\core\callbacks\utils.py:41,</span> in <span class="ni">trace_method.&lt;locals&gt;.decorator.&lt;locals&gt;.wrapper</span><span class="nt">(self, *args, **kwargs)</span>
<span class="g g-Whitespace">     </span><span class="mi">39</span> <span class="n">callback_manager</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">CallbackManager</span><span class="p">,</span> <span class="n">callback_manager</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">40</span> <span class="k">with</span> <span class="n">callback_manager</span><span class="o">.</span><span class="n">as_trace</span><span class="p">(</span><span class="n">trace_id</span><span class="p">):</span>
<span class="ne">---&gt; </span><span class="mi">41</span>     <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\site-packages\llama_index\core\agent\runner\base.py:647,</span> in <span class="ni">AgentRunner.chat</span><span class="nt">(self, message, chat_history, tool_choice)</span>
<span class="g g-Whitespace">    </span><span class="mi">642</span>     <span class="n">tool_choice</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_tool_choice</span>
<span class="g g-Whitespace">    </span><span class="mi">643</span> <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">callback_manager</span><span class="o">.</span><span class="n">event</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">644</span>     <span class="n">CBEventType</span><span class="o">.</span><span class="n">AGENT_STEP</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">645</span>     <span class="n">payload</span><span class="o">=</span><span class="p">{</span><span class="n">EventPayload</span><span class="o">.</span><span class="n">MESSAGES</span><span class="p">:</span> <span class="p">[</span><span class="n">message</span><span class="p">]},</span>
<span class="g g-Whitespace">    </span><span class="mi">646</span> <span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">647</span>     <span class="n">chat_response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_chat</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">648</span>         <span class="n">message</span><span class="o">=</span><span class="n">message</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">649</span>         <span class="n">chat_history</span><span class="o">=</span><span class="n">chat_history</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">650</span>         <span class="n">tool_choice</span><span class="o">=</span><span class="n">tool_choice</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">651</span>         <span class="n">mode</span><span class="o">=</span><span class="n">ChatResponseMode</span><span class="o">.</span><span class="n">WAIT</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">652</span>     <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">653</span>     <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">chat_response</span><span class="p">,</span> <span class="n">AgentChatResponse</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">654</span>     <span class="n">e</span><span class="o">.</span><span class="n">on_end</span><span class="p">(</span><span class="n">payload</span><span class="o">=</span><span class="p">{</span><span class="n">EventPayload</span><span class="o">.</span><span class="n">RESPONSE</span><span class="p">:</span> <span class="n">chat_response</span><span class="p">})</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\site-packages\llama_index\core\instrumentation\dispatcher.py:321,</span> in <span class="ni">Dispatcher.span.&lt;locals&gt;.wrapper</span><span class="nt">(func, instance, args, kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">318</span>             <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to reset active_span_id: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">320</span> <span class="k">try</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">321</span>     <span class="n">result</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">322</span>     <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">Future</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">323</span>         <span class="c1"># If the result is a Future, wrap it</span>
<span class="g g-Whitespace">    </span><span class="mi">324</span>         <span class="n">new_future</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">ensure_future</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\site-packages\llama_index\core\agent\runner\base.py:579,</span> in <span class="ni">AgentRunner._chat</span><span class="nt">(self, message, chat_history, tool_choice, mode)</span>
<span class="g g-Whitespace">    </span><span class="mi">576</span> <span class="n">dispatcher</span><span class="o">.</span><span class="n">event</span><span class="p">(</span><span class="n">AgentChatWithStepStartEvent</span><span class="p">(</span><span class="n">user_msg</span><span class="o">=</span><span class="n">message</span><span class="p">))</span>
<span class="g g-Whitespace">    </span><span class="mi">577</span> <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">578</span>     <span class="c1"># pass step queue in as argument, assume step executor is stateless</span>
<span class="ne">--&gt; </span><span class="mi">579</span>     <span class="n">cur_step_output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run_step</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">580</span>         <span class="n">task</span><span class="o">.</span><span class="n">task_id</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">,</span> <span class="n">tool_choice</span><span class="o">=</span><span class="n">tool_choice</span>
<span class="g g-Whitespace">    </span><span class="mi">581</span>     <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">583</span>     <span class="k">if</span> <span class="n">cur_step_output</span><span class="o">.</span><span class="n">is_last</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">584</span>         <span class="n">result_output</span> <span class="o">=</span> <span class="n">cur_step_output</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\site-packages\llama_index\core\instrumentation\dispatcher.py:321,</span> in <span class="ni">Dispatcher.span.&lt;locals&gt;.wrapper</span><span class="nt">(func, instance, args, kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">318</span>             <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to reset active_span_id: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">320</span> <span class="k">try</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">321</span>     <span class="n">result</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">322</span>     <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">Future</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">323</span>         <span class="c1"># If the result is a Future, wrap it</span>
<span class="g g-Whitespace">    </span><span class="mi">324</span>         <span class="n">new_future</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">ensure_future</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\site-packages\llama_index\core\agent\runner\base.py:412,</span> in <span class="ni">AgentRunner._run_step</span><span class="nt">(self, task_id, step, input, mode, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">408</span> <span class="c1"># TODO: figure out if you can dynamically swap in different step executors</span>
<span class="g g-Whitespace">    </span><span class="mi">409</span> <span class="c1"># not clear when you would do that by theoretically possible</span>
<span class="g g-Whitespace">    </span><span class="mi">411</span> <span class="k">if</span> <span class="n">mode</span> <span class="o">==</span> <span class="n">ChatResponseMode</span><span class="o">.</span><span class="n">WAIT</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">412</span>     <span class="n">cur_step_output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">agent_worker</span><span class="o">.</span><span class="n">run_step</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="n">task</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">413</span> <span class="k">elif</span> <span class="n">mode</span> <span class="o">==</span> <span class="n">ChatResponseMode</span><span class="o">.</span><span class="n">STREAM</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">414</span>     <span class="n">cur_step_output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">agent_worker</span><span class="o">.</span><span class="n">stream_step</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="n">task</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\site-packages\llama_index\core\instrumentation\dispatcher.py:321,</span> in <span class="ni">Dispatcher.span.&lt;locals&gt;.wrapper</span><span class="nt">(func, instance, args, kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">318</span>             <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to reset active_span_id: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">320</span> <span class="k">try</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">321</span>     <span class="n">result</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">322</span>     <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">Future</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">323</span>         <span class="c1"># If the result is a Future, wrap it</span>
<span class="g g-Whitespace">    </span><span class="mi">324</span>         <span class="n">new_future</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">ensure_future</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\site-packages\llama_index\core\callbacks\utils.py:41,</span> in <span class="ni">trace_method.&lt;locals&gt;.decorator.&lt;locals&gt;.wrapper</span><span class="nt">(self, *args, **kwargs)</span>
<span class="g g-Whitespace">     </span><span class="mi">39</span> <span class="n">callback_manager</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">CallbackManager</span><span class="p">,</span> <span class="n">callback_manager</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">40</span> <span class="k">with</span> <span class="n">callback_manager</span><span class="o">.</span><span class="n">as_trace</span><span class="p">(</span><span class="n">trace_id</span><span class="p">):</span>
<span class="ne">---&gt; </span><span class="mi">41</span>     <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\site-packages\llama_index\core\agent\react\step.py:818,</span> in <span class="ni">ReActAgentWorker.run_step</span><span class="nt">(self, step, task, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">815</span> <span class="nd">@trace_method</span><span class="p">(</span><span class="s2">&quot;run_step&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">816</span> <span class="k">def</span><span class="w"> </span><span class="nf">run_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step</span><span class="p">:</span> <span class="n">TaskStep</span><span class="p">,</span> <span class="n">task</span><span class="p">:</span> <span class="n">Task</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TaskStepOutput</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">817</span><span class="w">     </span><span class="sd">&quot;&quot;&quot;Run step.&quot;&quot;&quot;</span>
<span class="ne">--&gt; </span><span class="mi">818</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run_step</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="n">task</span><span class="p">)</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\site-packages\llama_index\core\agent\react\step.py:570,</span> in <span class="ni">ReActAgentWorker._run_step</span><span class="nt">(self, step, task)</span>
<span class="g g-Whitespace">    </span><span class="mi">562</span> <span class="n">input_chat</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_react_chat_formatter</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">563</span>     <span class="n">tools</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">564</span>     <span class="n">chat_history</span><span class="o">=</span><span class="n">task</span><span class="o">.</span><span class="n">memory</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">input</span><span class="o">=</span><span class="n">task</span><span class="o">.</span><span class="n">input</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">565</span>     <span class="o">+</span> <span class="n">task</span><span class="o">.</span><span class="n">extra_state</span><span class="p">[</span><span class="s2">&quot;new_memory&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get_all</span><span class="p">(),</span>
<span class="g g-Whitespace">    </span><span class="mi">566</span>     <span class="n">current_reasoning</span><span class="o">=</span><span class="n">task</span><span class="o">.</span><span class="n">extra_state</span><span class="p">[</span><span class="s2">&quot;current_reasoning&quot;</span><span class="p">],</span>
<span class="g g-Whitespace">    </span><span class="mi">567</span> <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">569</span> <span class="c1"># send prompt</span>
<span class="ne">--&gt; </span><span class="mi">570</span> <span class="n">chat_response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_llm</span><span class="o">.</span><span class="n">chat</span><span class="p">(</span><span class="n">input_chat</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">571</span> <span class="c1"># given react prompt outputs, call tools or return response</span>
<span class="g g-Whitespace">    </span><span class="mi">572</span> <span class="n">reasoning_steps</span><span class="p">,</span> <span class="n">is_done</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_process_actions</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">573</span>     <span class="n">task</span><span class="p">,</span> <span class="n">tools</span><span class="p">,</span> <span class="n">output</span><span class="o">=</span><span class="n">chat_response</span>
<span class="g g-Whitespace">    </span><span class="mi">574</span> <span class="p">)</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\site-packages\llama_index\core\instrumentation\dispatcher.py:321,</span> in <span class="ni">Dispatcher.span.&lt;locals&gt;.wrapper</span><span class="nt">(func, instance, args, kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">318</span>             <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to reset active_span_id: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">320</span> <span class="k">try</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">321</span>     <span class="n">result</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">322</span>     <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">Future</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">323</span>         <span class="c1"># If the result is a Future, wrap it</span>
<span class="g g-Whitespace">    </span><span class="mi">324</span>         <span class="n">new_future</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">ensure_future</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\site-packages\llama_index\llms\openai_like\base.py:114,</span> in <span class="ni">OpenAILike.chat</span><span class="nt">(self, messages, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">112</span> <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">is_chat_model</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">113</span>     <span class="n">prompt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">messages_to_prompt</span><span class="p">(</span><span class="n">messages</span><span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">114</span>     <span class="n">completion_response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">complete</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span> <span class="n">formatted</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">115</span>     <span class="k">return</span> <span class="n">completion_response_to_chat_response</span><span class="p">(</span><span class="n">completion_response</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">117</span> <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">chat</span><span class="p">(</span><span class="n">messages</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\site-packages\llama_index\core\instrumentation\dispatcher.py:321,</span> in <span class="ni">Dispatcher.span.&lt;locals&gt;.wrapper</span><span class="nt">(func, instance, args, kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">318</span>             <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to reset active_span_id: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">320</span> <span class="k">try</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">321</span>     <span class="n">result</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">322</span>     <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">Future</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">323</span>         <span class="c1"># If the result is a Future, wrap it</span>
<span class="g g-Whitespace">    </span><span class="mi">324</span>         <span class="n">new_future</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">ensure_future</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\site-packages\llama_index\llms\openai_like\base.py:99,</span> in <span class="ni">OpenAILike.complete</span><span class="nt">(self, prompt, formatted, **kwargs)</span>
<span class="g g-Whitespace">     </span><span class="mi">96</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">formatted</span><span class="p">:</span>
<span class="g g-Whitespace">     </span><span class="mi">97</span>     <span class="n">prompt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">completion_to_prompt</span><span class="p">(</span><span class="n">prompt</span><span class="p">)</span>
<span class="ne">---&gt; </span><span class="mi">99</span> <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">complete</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\site-packages\llama_index\core\instrumentation\dispatcher.py:321,</span> in <span class="ni">Dispatcher.span.&lt;locals&gt;.wrapper</span><span class="nt">(func, instance, args, kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">318</span>             <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to reset active_span_id: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">320</span> <span class="k">try</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">321</span>     <span class="n">result</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">322</span>     <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">Future</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">323</span>         <span class="c1"># If the result is a Future, wrap it</span>
<span class="g g-Whitespace">    </span><span class="mi">324</span>         <span class="n">new_future</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">ensure_future</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\site-packages\llama_index\core\llms\callbacks.py:431,</span> in <span class="ni">llm_completion_callback.&lt;locals&gt;.wrap.&lt;locals&gt;.wrapped_llm_predict</span><span class="nt">(_self, *args, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">422</span> <span class="n">event_id</span> <span class="o">=</span> <span class="n">callback_manager</span><span class="o">.</span><span class="n">on_event_start</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">423</span>     <span class="n">CBEventType</span><span class="o">.</span><span class="n">LLM</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">424</span>     <span class="n">payload</span><span class="o">=</span><span class="p">{</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">428</span>     <span class="p">},</span>
<span class="g g-Whitespace">    </span><span class="mi">429</span> <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">430</span> <span class="k">try</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">431</span>     <span class="n">f_return_val</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">_self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">432</span> <span class="k">except</span> <span class="ne">BaseException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">433</span>     <span class="n">callback_manager</span><span class="o">.</span><span class="n">on_event_end</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">434</span>         <span class="n">CBEventType</span><span class="o">.</span><span class="n">LLM</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">435</span>         <span class="n">payload</span><span class="o">=</span><span class="p">{</span><span class="n">EventPayload</span><span class="o">.</span><span class="n">EXCEPTION</span><span class="p">:</span> <span class="n">e</span><span class="p">},</span>
<span class="g g-Whitespace">    </span><span class="mi">436</span>         <span class="n">event_id</span><span class="o">=</span><span class="n">event_id</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">437</span>     <span class="p">)</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\site-packages\llama_index\llms\openai\base.py:375,</span> in <span class="ni">OpenAI.complete</span><span class="nt">(self, prompt, formatted, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">373</span> <span class="k">else</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">374</span>     <span class="n">complete_fn</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_complete</span>
<span class="ne">--&gt; </span><span class="mi">375</span> <span class="k">return</span> <span class="n">complete_fn</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\site-packages\llama_index\llms\openai\base.py:106,</span> in <span class="ni">llm_retry_decorator.&lt;locals&gt;.wrapper</span><span class="nt">(self, *args, **kwargs)</span>
<span class="g g-Whitespace">     </span><span class="mi">97</span>     <span class="k">return</span> <span class="n">f</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">99</span> <span class="n">retry</span> <span class="o">=</span> <span class="n">create_retry_decorator</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">100</span>     <span class="n">max_retries</span><span class="o">=</span><span class="n">max_retries</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">101</span>     <span class="n">random_exponential</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">104</span>     <span class="n">max_seconds</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">105</span> <span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">106</span> <span class="k">return</span> <span class="n">retry</span><span class="p">(</span><span class="n">f</span><span class="p">)(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\site-packages\tenacity\__init__.py:336,</span> in <span class="ni">BaseRetrying.wraps.&lt;locals&gt;.wrapped_f</span><span class="nt">(*args, **kw)</span>
<span class="g g-Whitespace">    </span><span class="mi">334</span> <span class="n">copy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="g g-Whitespace">    </span><span class="mi">335</span> <span class="n">wrapped_f</span><span class="o">.</span><span class="n">statistics</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">statistics</span>  <span class="c1"># type: ignore[attr-defined]</span>
<span class="ne">--&gt; </span><span class="mi">336</span> <span class="k">return</span> <span class="n">copy</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\site-packages\tenacity\__init__.py:475,</span> in <span class="ni">Retrying.__call__</span><span class="nt">(self, fn, *args, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">473</span> <span class="n">retry_state</span> <span class="o">=</span> <span class="n">RetryCallState</span><span class="p">(</span><span class="n">retry_object</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">fn</span><span class="o">=</span><span class="n">fn</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="n">args</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">474</span> <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">475</span>     <span class="n">do</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">iter</span><span class="p">(</span><span class="n">retry_state</span><span class="o">=</span><span class="n">retry_state</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">476</span>     <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">do</span><span class="p">,</span> <span class="n">DoAttempt</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">477</span>         <span class="k">try</span><span class="p">:</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\site-packages\tenacity\__init__.py:376,</span> in <span class="ni">BaseRetrying.iter</span><span class="nt">(self, retry_state)</span>
<span class="g g-Whitespace">    </span><span class="mi">374</span> <span class="n">result</span> <span class="o">=</span> <span class="kc">None</span>
<span class="g g-Whitespace">    </span><span class="mi">375</span> <span class="k">for</span> <span class="n">action</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">iter_state</span><span class="o">.</span><span class="n">actions</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">376</span>     <span class="n">result</span> <span class="o">=</span> <span class="n">action</span><span class="p">(</span><span class="n">retry_state</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">377</span> <span class="k">return</span> <span class="n">result</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\site-packages\tenacity\__init__.py:398,</span> in <span class="ni">BaseRetrying._post_retry_check_actions.&lt;locals&gt;.&lt;lambda&gt;</span><span class="nt">(rs)</span>
<span class="g g-Whitespace">    </span><span class="mi">396</span> <span class="k">def</span><span class="w"> </span><span class="nf">_post_retry_check_actions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">retry_state</span><span class="p">:</span> <span class="s2">&quot;RetryCallState&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">397</span>     <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iter_state</span><span class="o">.</span><span class="n">is_explicit_retry</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">iter_state</span><span class="o">.</span><span class="n">retry_run_result</span><span class="p">):</span>
<span class="ne">--&gt; </span><span class="mi">398</span>         <span class="bp">self</span><span class="o">.</span><span class="n">_add_action_func</span><span class="p">(</span><span class="k">lambda</span> <span class="n">rs</span><span class="p">:</span> <span class="n">rs</span><span class="o">.</span><span class="n">outcome</span><span class="o">.</span><span class="n">result</span><span class="p">())</span>
<span class="g g-Whitespace">    </span><span class="mi">399</span>         <span class="k">return</span>
<span class="g g-Whitespace">    </span><span class="mi">401</span>     <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">after</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\concurrent\futures\_base.py:449,</span> in <span class="ni">Future.result</span><span class="nt">(self, timeout)</span>
<span class="g g-Whitespace">    </span><span class="mi">447</span>     <span class="k">raise</span> <span class="n">CancelledError</span><span class="p">()</span>
<span class="g g-Whitespace">    </span><span class="mi">448</span> <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">==</span> <span class="n">FINISHED</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">449</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__get_result</span><span class="p">()</span>
<span class="g g-Whitespace">    </span><span class="mi">451</span> <span class="bp">self</span><span class="o">.</span><span class="n">_condition</span><span class="o">.</span><span class="n">wait</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">453</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="ow">in</span> <span class="p">[</span><span class="n">CANCELLED</span><span class="p">,</span> <span class="n">CANCELLED_AND_NOTIFIED</span><span class="p">]:</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\concurrent\futures\_base.py:401,</span> in <span class="ni">Future.__get_result</span><span class="nt">(self)</span>
<span class="g g-Whitespace">    </span><span class="mi">399</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exception</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">400</span>     <span class="k">try</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">401</span>         <span class="k">raise</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exception</span>
<span class="g g-Whitespace">    </span><span class="mi">402</span>     <span class="k">finally</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">403</span>         <span class="c1"># Break a reference cycle with the exception in self._exception</span>
<span class="g g-Whitespace">    </span><span class="mi">404</span>         <span class="bp">self</span> <span class="o">=</span> <span class="kc">None</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\site-packages\tenacity\__init__.py:478,</span> in <span class="ni">Retrying.__call__</span><span class="nt">(self, fn, *args, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">476</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">do</span><span class="p">,</span> <span class="n">DoAttempt</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">477</span>     <span class="k">try</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">478</span>         <span class="n">result</span> <span class="o">=</span> <span class="n">fn</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">479</span>     <span class="k">except</span> <span class="ne">BaseException</span><span class="p">:</span>  <span class="c1"># noqa: B902</span>
<span class="g g-Whitespace">    </span><span class="mi">480</span>         <span class="n">retry_state</span><span class="o">.</span><span class="n">set_exception</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">())</span>  <span class="c1"># type: ignore[arg-type]</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\site-packages\llama_index\llms\openai\base.py:525,</span> in <span class="ni">OpenAI._complete</span><span class="nt">(self, prompt, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">522</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_max_tokens</span><span class="p">(</span><span class="n">all_kwargs</span><span class="p">,</span> <span class="n">prompt</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">524</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">reuse_client</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">525</span>     <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">completions</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">526</span>         <span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">527</span>         <span class="n">stream</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">528</span>         <span class="o">**</span><span class="n">all_kwargs</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">529</span>     <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">530</span> <span class="k">else</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">531</span>     <span class="k">with</span> <span class="n">client</span><span class="p">:</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\site-packages\openai\_utils\_utils.py:275,</span> in <span class="ni">required_args.&lt;locals&gt;.inner.&lt;locals&gt;.wrapper</span><span class="nt">(*args, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">273</span>             <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Missing required argument: </span><span class="si">{</span><span class="n">quote</span><span class="p">(</span><span class="n">missing</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">274</span>     <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">275</span> <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\site-packages\openai\resources\completions.py:539,</span> in <span class="ni">Completions.create</span><span class="nt">(self, model, prompt, best_of, echo, frequency_penalty, logit_bias, logprobs, max_tokens, n, presence_penalty, seed, stop, stream, stream_options, suffix, temperature, top_p, user, extra_headers, extra_query, extra_body, timeout)</span>
<span class="g g-Whitespace">    </span><span class="mi">510</span> <span class="nd">@required_args</span><span class="p">([</span><span class="s2">&quot;model&quot;</span><span class="p">,</span> <span class="s2">&quot;prompt&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;model&quot;</span><span class="p">,</span> <span class="s2">&quot;prompt&quot;</span><span class="p">,</span> <span class="s2">&quot;stream&quot;</span><span class="p">])</span>
<span class="g g-Whitespace">    </span><span class="mi">511</span> <span class="k">def</span><span class="w"> </span><span class="nf">create</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">512</span>     <span class="bp">self</span><span class="p">,</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">537</span>     <span class="n">timeout</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="n">httpx</span><span class="o">.</span><span class="n">Timeout</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">|</span> <span class="n">NotGiven</span> <span class="o">=</span> <span class="n">NOT_GIVEN</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">538</span> <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Completion</span> <span class="o">|</span> <span class="n">Stream</span><span class="p">[</span><span class="n">Completion</span><span class="p">]:</span>
<span class="ne">--&gt; </span><span class="mi">539</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_post</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">540</span>         <span class="s2">&quot;/completions&quot;</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">541</span>         <span class="n">body</span><span class="o">=</span><span class="n">maybe_transform</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">542</span>             <span class="p">{</span>
<span class="g g-Whitespace">    </span><span class="mi">543</span>                 <span class="s2">&quot;model&quot;</span><span class="p">:</span> <span class="n">model</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">544</span>                 <span class="s2">&quot;prompt&quot;</span><span class="p">:</span> <span class="n">prompt</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">545</span>                 <span class="s2">&quot;best_of&quot;</span><span class="p">:</span> <span class="n">best_of</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">546</span>                 <span class="s2">&quot;echo&quot;</span><span class="p">:</span> <span class="n">echo</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">547</span>                 <span class="s2">&quot;frequency_penalty&quot;</span><span class="p">:</span> <span class="n">frequency_penalty</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">548</span>                 <span class="s2">&quot;logit_bias&quot;</span><span class="p">:</span> <span class="n">logit_bias</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">549</span>                 <span class="s2">&quot;logprobs&quot;</span><span class="p">:</span> <span class="n">logprobs</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">550</span>                 <span class="s2">&quot;max_tokens&quot;</span><span class="p">:</span> <span class="n">max_tokens</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">551</span>                 <span class="s2">&quot;n&quot;</span><span class="p">:</span> <span class="n">n</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">552</span>                 <span class="s2">&quot;presence_penalty&quot;</span><span class="p">:</span> <span class="n">presence_penalty</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">553</span>                 <span class="s2">&quot;seed&quot;</span><span class="p">:</span> <span class="n">seed</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">554</span>                 <span class="s2">&quot;stop&quot;</span><span class="p">:</span> <span class="n">stop</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">555</span>                 <span class="s2">&quot;stream&quot;</span><span class="p">:</span> <span class="n">stream</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">556</span>                 <span class="s2">&quot;stream_options&quot;</span><span class="p">:</span> <span class="n">stream_options</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">557</span>                 <span class="s2">&quot;suffix&quot;</span><span class="p">:</span> <span class="n">suffix</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">558</span>                 <span class="s2">&quot;temperature&quot;</span><span class="p">:</span> <span class="n">temperature</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">559</span>                 <span class="s2">&quot;top_p&quot;</span><span class="p">:</span> <span class="n">top_p</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">560</span>                 <span class="s2">&quot;user&quot;</span><span class="p">:</span> <span class="n">user</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">561</span>             <span class="p">},</span>
<span class="g g-Whitespace">    </span><span class="mi">562</span>             <span class="n">completion_create_params</span><span class="o">.</span><span class="n">CompletionCreateParams</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">563</span>         <span class="p">),</span>
<span class="g g-Whitespace">    </span><span class="mi">564</span>         <span class="n">options</span><span class="o">=</span><span class="n">make_request_options</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">565</span>             <span class="n">extra_headers</span><span class="o">=</span><span class="n">extra_headers</span><span class="p">,</span> <span class="n">extra_query</span><span class="o">=</span><span class="n">extra_query</span><span class="p">,</span> <span class="n">extra_body</span><span class="o">=</span><span class="n">extra_body</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span>
<span class="g g-Whitespace">    </span><span class="mi">566</span>         <span class="p">),</span>
<span class="g g-Whitespace">    </span><span class="mi">567</span>         <span class="n">cast_to</span><span class="o">=</span><span class="n">Completion</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">568</span>         <span class="n">stream</span><span class="o">=</span><span class="n">stream</span> <span class="ow">or</span> <span class="kc">False</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">569</span>         <span class="n">stream_cls</span><span class="o">=</span><span class="n">Stream</span><span class="p">[</span><span class="n">Completion</span><span class="p">],</span>
<span class="g g-Whitespace">    </span><span class="mi">570</span>     <span class="p">)</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\site-packages\openai\_base_client.py:1280,</span> in <span class="ni">SyncAPIClient.post</span><span class="nt">(self, path, cast_to, body, options, files, stream, stream_cls)</span>
<span class="g g-Whitespace">   </span><span class="mi">1266</span> <span class="k">def</span><span class="w"> </span><span class="nf">post</span><span class="p">(</span>
<span class="g g-Whitespace">   </span><span class="mi">1267</span>     <span class="bp">self</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1268</span>     <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1275</span>     <span class="n">stream_cls</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">_StreamT</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1276</span> <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ResponseT</span> <span class="o">|</span> <span class="n">_StreamT</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">1277</span>     <span class="n">opts</span> <span class="o">=</span> <span class="n">FinalRequestOptions</span><span class="o">.</span><span class="n">construct</span><span class="p">(</span>
<span class="g g-Whitespace">   </span><span class="mi">1278</span>         <span class="n">method</span><span class="o">=</span><span class="s2">&quot;post&quot;</span><span class="p">,</span> <span class="n">url</span><span class="o">=</span><span class="n">path</span><span class="p">,</span> <span class="n">json_data</span><span class="o">=</span><span class="n">body</span><span class="p">,</span> <span class="n">files</span><span class="o">=</span><span class="n">to_httpx_files</span><span class="p">(</span><span class="n">files</span><span class="p">),</span> <span class="o">**</span><span class="n">options</span>
<span class="g g-Whitespace">   </span><span class="mi">1279</span>     <span class="p">)</span>
<span class="ne">-&gt; </span><span class="mi">1280</span>     <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">ResponseT</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="n">cast_to</span><span class="p">,</span> <span class="n">opts</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="n">stream</span><span class="p">,</span> <span class="n">stream_cls</span><span class="o">=</span><span class="n">stream_cls</span><span class="p">))</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\site-packages\openai\_base_client.py:957,</span> in <span class="ni">SyncAPIClient.request</span><span class="nt">(self, cast_to, options, remaining_retries, stream, stream_cls)</span>
<span class="g g-Whitespace">    </span><span class="mi">954</span> <span class="k">else</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">955</span>     <span class="n">retries_taken</span> <span class="o">=</span> <span class="mi">0</span>
<span class="ne">--&gt; </span><span class="mi">957</span> <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">958</span>     <span class="n">cast_to</span><span class="o">=</span><span class="n">cast_to</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">959</span>     <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">960</span>     <span class="n">stream</span><span class="o">=</span><span class="n">stream</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">961</span>     <span class="n">stream_cls</span><span class="o">=</span><span class="n">stream_cls</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">962</span>     <span class="n">retries_taken</span><span class="o">=</span><span class="n">retries_taken</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">963</span> <span class="p">)</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\site-packages\openai\_base_client.py:993,</span> in <span class="ni">SyncAPIClient._request</span><span class="nt">(self, cast_to, options, retries_taken, stream, stream_cls)</span>
<span class="g g-Whitespace">    </span><span class="mi">990</span> <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Sending HTTP Request: </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span><span class="p">,</span> <span class="n">request</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">992</span> <span class="k">try</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">993</span>     <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">send</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">994</span>         <span class="n">request</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">995</span>         <span class="n">stream</span><span class="o">=</span><span class="n">stream</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_should_stream_response_body</span><span class="p">(</span><span class="n">request</span><span class="o">=</span><span class="n">request</span><span class="p">),</span>
<span class="g g-Whitespace">    </span><span class="mi">996</span>         <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">997</span>     <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">998</span> <span class="k">except</span> <span class="n">httpx</span><span class="o">.</span><span class="n">TimeoutException</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">999</span>     <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Encountered httpx.TimeoutException&quot;</span><span class="p">,</span> <span class="n">exc_info</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\site-packages\httpx\_client.py:926,</span> in <span class="ni">Client.send</span><span class="nt">(self, request, stream, auth, follow_redirects)</span>
<span class="g g-Whitespace">    </span><span class="mi">922</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_timeout</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">924</span> <span class="n">auth</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_build_request_auth</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">926</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_handling_auth</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">927</span>     <span class="n">request</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">928</span>     <span class="n">auth</span><span class="o">=</span><span class="n">auth</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">929</span>     <span class="n">follow_redirects</span><span class="o">=</span><span class="n">follow_redirects</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">930</span>     <span class="n">history</span><span class="o">=</span><span class="p">[],</span>
<span class="g g-Whitespace">    </span><span class="mi">931</span> <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">932</span> <span class="k">try</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">933</span>     <span class="k">if</span> <span class="ow">not</span> <span class="n">stream</span><span class="p">:</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\site-packages\httpx\_client.py:954,</span> in <span class="ni">Client._send_handling_auth</span><span class="nt">(self, request, auth, follow_redirects, history)</span>
<span class="g g-Whitespace">    </span><span class="mi">951</span> <span class="n">request</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">auth_flow</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">953</span> <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">954</span>     <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_handling_redirects</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">955</span>         <span class="n">request</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">956</span>         <span class="n">follow_redirects</span><span class="o">=</span><span class="n">follow_redirects</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">957</span>         <span class="n">history</span><span class="o">=</span><span class="n">history</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">958</span>     <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">959</span>     <span class="k">try</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">960</span>         <span class="k">try</span><span class="p">:</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\site-packages\httpx\_client.py:991,</span> in <span class="ni">Client._send_handling_redirects</span><span class="nt">(self, request, follow_redirects, history)</span>
<span class="g g-Whitespace">    </span><span class="mi">988</span> <span class="k">for</span> <span class="n">hook</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_event_hooks</span><span class="p">[</span><span class="s2">&quot;request&quot;</span><span class="p">]:</span>
<span class="g g-Whitespace">    </span><span class="mi">989</span>     <span class="n">hook</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">991</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_single_request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">992</span> <span class="k">try</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">993</span>     <span class="k">for</span> <span class="n">hook</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_event_hooks</span><span class="p">[</span><span class="s2">&quot;response&quot;</span><span class="p">]:</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\site-packages\httpx\_client.py:1027,</span> in <span class="ni">Client._send_single_request</span><span class="nt">(self, request)</span>
<span class="g g-Whitespace">   </span><span class="mi">1022</span>     <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
<span class="g g-Whitespace">   </span><span class="mi">1023</span>         <span class="s2">&quot;Attempted to send an async request with a sync Client instance.&quot;</span>
<span class="g g-Whitespace">   </span><span class="mi">1024</span>     <span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1026</span> <span class="k">with</span> <span class="n">request_context</span><span class="p">(</span><span class="n">request</span><span class="o">=</span><span class="n">request</span><span class="p">):</span>
<span class="ne">-&gt; </span><span class="mi">1027</span>     <span class="n">response</span> <span class="o">=</span> <span class="n">transport</span><span class="o">.</span><span class="n">handle_request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1029</span> <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">stream</span><span class="p">,</span> <span class="n">SyncByteStream</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1031</span> <span class="n">response</span><span class="o">.</span><span class="n">request</span> <span class="o">=</span> <span class="n">request</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\site-packages\httpx\_transports\default.py:236,</span> in <span class="ni">HTTPTransport.handle_request</span><span class="nt">(self, request)</span>
<span class="g g-Whitespace">    </span><span class="mi">223</span> <span class="n">req</span> <span class="o">=</span> <span class="n">httpcore</span><span class="o">.</span><span class="n">Request</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">224</span>     <span class="n">method</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">method</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">225</span>     <span class="n">url</span><span class="o">=</span><span class="n">httpcore</span><span class="o">.</span><span class="n">URL</span><span class="p">(</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">233</span>     <span class="n">extensions</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">extensions</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">234</span> <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">235</span> <span class="k">with</span> <span class="n">map_httpcore_exceptions</span><span class="p">():</span>
<span class="ne">--&gt; </span><span class="mi">236</span>     <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pool</span><span class="o">.</span><span class="n">handle_request</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">238</span> <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">stream</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Iterable</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">240</span> <span class="k">return</span> <span class="n">Response</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">241</span>     <span class="n">status_code</span><span class="o">=</span><span class="n">resp</span><span class="o">.</span><span class="n">status</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">242</span>     <span class="n">headers</span><span class="o">=</span><span class="n">resp</span><span class="o">.</span><span class="n">headers</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">243</span>     <span class="n">stream</span><span class="o">=</span><span class="n">ResponseStream</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">stream</span><span class="p">),</span>
<span class="g g-Whitespace">    </span><span class="mi">244</span>     <span class="n">extensions</span><span class="o">=</span><span class="n">resp</span><span class="o">.</span><span class="n">extensions</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">245</span> <span class="p">)</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\site-packages\httpcore\_sync\connection_pool.py:256,</span> in <span class="ni">ConnectionPool.handle_request</span><span class="nt">(self, request)</span>
<span class="g g-Whitespace">    </span><span class="mi">253</span>         <span class="n">closing</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_assign_requests_to_connections</span><span class="p">()</span>
<span class="g g-Whitespace">    </span><span class="mi">255</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_close_connections</span><span class="p">(</span><span class="n">closing</span><span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">256</span>     <span class="k">raise</span> <span class="n">exc</span> <span class="kn">from</span><span class="w"> </span><span class="kc">None</span>
<span class="g g-Whitespace">    </span><span class="mi">258</span> <span class="c1"># Return the response. Note that in this case we still have to manage</span>
<span class="g g-Whitespace">    </span><span class="mi">259</span> <span class="c1"># the point at which the response is closed.</span>
<span class="g g-Whitespace">    </span><span class="mi">260</span> <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">stream</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Iterable</span><span class="p">)</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\site-packages\httpcore\_sync\connection_pool.py:236,</span> in <span class="ni">ConnectionPool.handle_request</span><span class="nt">(self, request)</span>
<span class="g g-Whitespace">    </span><span class="mi">232</span> <span class="n">connection</span> <span class="o">=</span> <span class="n">pool_request</span><span class="o">.</span><span class="n">wait_for_connection</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">234</span> <span class="k">try</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">235</span>     <span class="c1"># Send the request on the assigned connection.</span>
<span class="ne">--&gt; </span><span class="mi">236</span>     <span class="n">response</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">handle_request</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">237</span>         <span class="n">pool_request</span><span class="o">.</span><span class="n">request</span>
<span class="g g-Whitespace">    </span><span class="mi">238</span>     <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">239</span> <span class="k">except</span> <span class="n">ConnectionNotAvailable</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">240</span>     <span class="c1"># In some cases a connection may initially be available to</span>
<span class="g g-Whitespace">    </span><span class="mi">241</span>     <span class="c1"># handle a request, but then become unavailable.</span>
<span class="g g-Whitespace">    </span><span class="mi">242</span>     <span class="c1">#</span>
<span class="g g-Whitespace">    </span><span class="mi">243</span>     <span class="c1"># In this case we clear the connection and try again.</span>
<span class="g g-Whitespace">    </span><span class="mi">244</span>     <span class="n">pool_request</span><span class="o">.</span><span class="n">clear_connection</span><span class="p">()</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\site-packages\httpcore\_sync\connection.py:103,</span> in <span class="ni">HTTPConnection.handle_request</span><span class="nt">(self, request)</span>
<span class="g g-Whitespace">    </span><span class="mi">100</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_connect_failed</span> <span class="o">=</span> <span class="kc">True</span>
<span class="g g-Whitespace">    </span><span class="mi">101</span>     <span class="k">raise</span> <span class="n">exc</span>
<span class="ne">--&gt; </span><span class="mi">103</span> <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_connection</span><span class="o">.</span><span class="n">handle_request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\site-packages\httpcore\_sync\http11.py:136,</span> in <span class="ni">HTTP11Connection.handle_request</span><span class="nt">(self, request)</span>
<span class="g g-Whitespace">    </span><span class="mi">134</span>     <span class="k">with</span> <span class="n">Trace</span><span class="p">(</span><span class="s2">&quot;response_closed&quot;</span><span class="p">,</span> <span class="n">logger</span><span class="p">,</span> <span class="n">request</span><span class="p">)</span> <span class="k">as</span> <span class="n">trace</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">135</span>         <span class="bp">self</span><span class="o">.</span><span class="n">_response_closed</span><span class="p">()</span>
<span class="ne">--&gt; </span><span class="mi">136</span> <span class="k">raise</span> <span class="n">exc</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\site-packages\httpcore\_sync\http11.py:106,</span> in <span class="ni">HTTP11Connection.handle_request</span><span class="nt">(self, request)</span>
<span class="g g-Whitespace">     </span><span class="mi">95</span>     <span class="k">pass</span>
<span class="g g-Whitespace">     </span><span class="mi">97</span> <span class="k">with</span> <span class="n">Trace</span><span class="p">(</span>
<span class="g g-Whitespace">     </span><span class="mi">98</span>     <span class="s2">&quot;receive_response_headers&quot;</span><span class="p">,</span> <span class="n">logger</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">kwargs</span>
<span class="g g-Whitespace">     </span><span class="mi">99</span> <span class="p">)</span> <span class="k">as</span> <span class="n">trace</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">100</span>     <span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">101</span>         <span class="n">http_version</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">102</span>         <span class="n">status</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">103</span>         <span class="n">reason_phrase</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">104</span>         <span class="n">headers</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">105</span>         <span class="n">trailing_data</span><span class="p">,</span>
<span class="ne">--&gt; </span><span class="mi">106</span>     <span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_receive_response_headers</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">107</span>     <span class="n">trace</span><span class="o">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">108</span>         <span class="n">http_version</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">109</span>         <span class="n">status</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">110</span>         <span class="n">reason_phrase</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">111</span>         <span class="n">headers</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">112</span>     <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">114</span> <span class="n">network_stream</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_network_stream</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\site-packages\httpcore\_sync\http11.py:177,</span> in <span class="ni">HTTP11Connection._receive_response_headers</span><span class="nt">(self, request)</span>
<span class="g g-Whitespace">    </span><span class="mi">174</span> <span class="n">timeout</span> <span class="o">=</span> <span class="n">timeouts</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;read&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">176</span> <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">177</span>     <span class="n">event</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_receive_event</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">178</span>     <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">h11</span><span class="o">.</span><span class="n">Response</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">179</span>         <span class="k">break</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\site-packages\httpcore\_sync\http11.py:217,</span> in <span class="ni">HTTP11Connection._receive_event</span><span class="nt">(self, timeout)</span>
<span class="g g-Whitespace">    </span><span class="mi">214</span>     <span class="n">event</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_h11_state</span><span class="o">.</span><span class="n">next_event</span><span class="p">()</span>
<span class="g g-Whitespace">    </span><span class="mi">216</span> <span class="k">if</span> <span class="n">event</span> <span class="ow">is</span> <span class="n">h11</span><span class="o">.</span><span class="n">NEED_DATA</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">217</span>     <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_network_stream</span><span class="o">.</span><span class="n">read</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">218</span>         <span class="bp">self</span><span class="o">.</span><span class="n">READ_NUM_BYTES</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span>
<span class="g g-Whitespace">    </span><span class="mi">219</span>     <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">221</span>     <span class="c1"># If we feed this case through h11 we&#39;ll raise an exception like:</span>
<span class="g g-Whitespace">    </span><span class="mi">222</span>     <span class="c1">#</span>
<span class="g g-Whitespace">    </span><span class="mi">223</span>     <span class="c1">#     httpcore.RemoteProtocolError: can&#39;t handle event type</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">227</span>     <span class="c1"># perspective. Instead we handle this case distinctly and treat</span>
<span class="g g-Whitespace">    </span><span class="mi">228</span>     <span class="c1"># it as a ConnectError.</span>
<span class="g g-Whitespace">    </span><span class="mi">229</span>     <span class="k">if</span> <span class="n">data</span> <span class="o">==</span> <span class="sa">b</span><span class="s2">&quot;&quot;</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_h11_state</span><span class="o">.</span><span class="n">their_state</span> <span class="o">==</span> <span class="n">h11</span><span class="o">.</span><span class="n">SEND_RESPONSE</span><span class="p">:</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\site-packages\httpcore\_backends\sync.py:126,</span> in <span class="ni">SyncStream.read</span><span class="nt">(self, max_bytes, timeout)</span>
<span class="g g-Whitespace">    </span><span class="mi">124</span> <span class="k">def</span><span class="w"> </span><span class="nf">read</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">max_bytes</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">125</span>     <span class="n">exc_map</span><span class="p">:</span> <span class="n">ExceptionMapping</span> <span class="o">=</span> <span class="p">{</span><span class="n">socket</span><span class="o">.</span><span class="n">timeout</span><span class="p">:</span> <span class="n">ReadTimeout</span><span class="p">,</span> <span class="ne">OSError</span><span class="p">:</span> <span class="n">ReadError</span><span class="p">}</span>
<span class="ne">--&gt; </span><span class="mi">126</span>     <span class="k">with</span> <span class="n">map_exceptions</span><span class="p">(</span><span class="n">exc_map</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">127</span>         <span class="bp">self</span><span class="o">.</span><span class="n">_sock</span><span class="o">.</span><span class="n">settimeout</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">128</span>         <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sock</span><span class="o">.</span><span class="n">recv</span><span class="p">(</span><span class="n">max_bytes</span><span class="p">)</span>

<span class="nn">File ~\miniforge3\envs\genai-gpu\Lib\contextlib.py:141,</span> in <span class="ni">_GeneratorContextManager.__exit__</span><span class="nt">(self, typ, value, traceback)</span>
<span class="g g-Whitespace">    </span><span class="mi">138</span>     <span class="k">except</span> <span class="ne">StopIteration</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">139</span>         <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;generator didn&#39;t yield&quot;</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="kc">None</span>
<span class="ne">--&gt; </span><span class="mi">141</span> <span class="k">def</span><span class="w"> </span><span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">typ</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">traceback</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">142</span>     <span class="k">if</span> <span class="n">typ</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">143</span>         <span class="k">try</span><span class="p">:</span>

<span class="ne">KeyboardInterrupt</span>: 
</pre></div>
</div>
</div>
</div>
<section id="exercise">
<h1>Exercise<a class="headerlink" href="#exercise" title="Permalink to this heading">#</a></h1>
<p>Rename the parameter <code class="docutils literal notranslate"><span class="pre">docs_file_path</span></code> of the function <code class="docutils literal notranslate"><span class="pre">read_documentation</span></code> to <code class="docutils literal notranslate"><span class="pre">docs_filename</span></code> or <code class="docutils literal notranslate"><span class="pre">docs_url</span></code>. Run the code again. If it stops working, why is that?</p>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./33_chat_with_docs"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

            </article>
            

            
            
            <footer class="bd-footer-article">
                <!-- Previous / next buttons -->
<div class='prev-next-area'>
</div>
            </footer>
            
          </div>
          
          
          
          
        </div>
        <footer class="bd-footer-content">
          <div class="bd-footer-content__inner">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Robert Haase
</p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    <p class="last-updated">
Last updated on 2025-02-24.<br>
</p>
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <p>
Copyright: Licensed <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank">CC-BY 4.0</a> unless mentioned otherwise. 
Contributions and feedback are welcome.
</p>

</div>
  </div>
  
</div>
          </div>
        </footer>
        

      </main>
    </div>
  </div>

  
    
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=796348d33e8b1d947c94"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=796348d33e8b1d947c94"></script>

  </body>
</html>